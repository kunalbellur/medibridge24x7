var h=(d,t,l)=>new Promise((x,r)=>{var n=a=>{try{o(l.next(a))}catch(i){r(i)}},c=a=>{try{o(l.throw(a))}catch(i){r(i)}},o=a=>a.done?x(a.value):Promise.resolve(a.value).then(n,c);o((l=l.apply(d,t)).next())});import{u as g,j as e}from"./index-wYB_OSb7.js";import{u as b,r as f,f as p}from"./react-vendor-BcqdGgAs.js";import{A as N,X as v,y as w,i as y,a7 as k,m as O,I as C,J as S,M as z,z as u}from"./ui-vendor-BPow5NNe.js";import"./supabase-vendor-DqPCCbyy.js";const j=[{name:"Dashboard",href:"/admin",icon:w},{name:"Organizations",href:"/admin/organizations",icon:y},{name:"Knowledge Base",href:"/admin/knowledge",icon:k},{name:"Escalations",href:"/admin/escalations",icon:O}],$=({children:d})=>{var i;const{user:t,signOut:l}=g(),x=b(),[r,n]=f.useState(!0),[c,o]=f.useState(!1),a=()=>h(void 0,null,function*(){try{yield l(),u.success("Signed out successfully"),x("/login")}catch(s){u.error(s.message||"Failed to sign out")}});return e.jsxs("div",{className:"min-h-screen bg-slate-900 pb-16 lg:pb-0",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 lg:w-64 md:w-20 bg-slate-950 border-r border-slate-800 transform transition-all duration-200 ease-in-out ${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-800",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-white",children:"MediBridge"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Super Admin"})]})]}),e.jsx("button",{onClick:()=>n(!1),className:"lg:hidden text-slate-400 hover:text-white",children:e.jsx(v,{className:"w-5 h-5"})})]}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:j.map(s=>e.jsxs(p,{to:s.href,end:s.href==="/admin",onClick:()=>n(!1),title:s.name,className:({isActive:m})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors md:justify-center lg:justify-start ${m?"bg-primary-600 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[e.jsx(s.icon,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"font-medium md:hidden lg:block",children:s.name})]},s.name))}),e.jsx("div",{className:"p-4 border-t border-slate-800 md:hidden lg:block",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>o(!c),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-semibold text-white",children:(i=t==null?void 0:t.full_name)==null?void 0:i.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:t==null?void 0:t.full_name}),e.jsx("p",{className:"text-xs text-slate-400",children:t==null?void 0:t.email})]})]}),e.jsx(C,{className:`w-4 h-4 transition-transform ${c?"rotate-180":""}`})]}),c&&e.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-slate-800 border border-slate-700 rounded-lg shadow-lg overflow-hidden",children:e.jsxs("button",{onClick:a,className:"w-full flex items-center space-x-3 px-4 py-3 text-slate-300 hover:bg-slate-700 hover:text-white transition-colors",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})})]})})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!1)}),e.jsxs("div",{className:"lg:pl-64 md:pl-20",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-slate-900 border-b border-slate-800",children:e.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 lg:px-8 py-4",children:[e.jsx("button",{onClick:()=>n(!0),className:"lg:hidden text-slate-400 hover:text-white p-2 -ml-2 rounded-lg hover:bg-slate-800 transition-colors",children:e.jsx(z,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Admin Portal"}),e.jsx("div",{className:"flex-1"})]})}),e.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:d}),e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-slate-950 border-t border-slate-800 lg:hidden z-40",children:e.jsx("div",{className:"flex items-center justify-around",children:j.map(s=>e.jsxs(p,{to:s.href,end:s.href==="/admin",className:({isActive:m})=>`flex flex-col items-center justify-center flex-1 py-2 px-2 min-h-[56px] ${m?"text-primary":"text-slate-400"}`,children:[e.jsx(s.icon,{className:"w-6 h-6"}),e.jsx("span",{className:"text-[10px] mt-1 font-medium",children:s.name})]},s.name))})})]})]})};export{$ as AdminLayout};
